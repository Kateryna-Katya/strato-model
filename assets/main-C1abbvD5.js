(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function m(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=m(n);fetch(n.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{typeof lucide<"u"&&lucide.createIcons();const c=document.querySelector(".burger"),s=document.querySelector(".menu-overlay"),m=document.querySelectorAll(".menu-link"),a=()=>{!c||!s||(c.classList.toggle("burger--active"),s.classList.toggle("menu-overlay--active"),document.body.style.overflow=c.classList.contains("burger--active")?"hidden":"")};c==null||c.addEventListener("click",a),m.forEach(e=>e.addEventListener("click",a)),gsap.timeline({defaults:{ease:"power4.out"}}).to(".hero__badge, .hero__title, .hero__descr, .hero__btns",{opacity:1,y:0,duration:1.2,stagger:.15,delay:.2}).from(".hero__card",{scale:.9,rotateY:20,opacity:0,duration:1.5},"-=1");const r=(e,o)=>{e.forEach(t=>{t.isIntersecting&&(gsap.to(t.target,{opacity:1,y:0,duration:1.2,ease:"power3.out"}),o.unobserve(t.target))})},i=new IntersectionObserver(r,{threshold:.1});document.querySelectorAll(".reveal:not(.hero *)").forEach(e=>{gsap.set(e,{opacity:0,y:50}),i.observe(e)}),document.addEventListener("mousemove",e=>{const{clientX:o,clientY:t}=e,d=o/window.innerWidth-.5,u=t/window.innerHeight-.5,b=document.querySelector(".hero__card");b&&gsap.to(b,{rotateY:d*30,rotateX:-u*30,duration:1});const E=document.querySelector(".image-accent");E&&gsap.to(E,{x:d*40,y:u*40,duration:1.5}),document.querySelectorAll(".float-element").forEach(I=>{const _=I.getAttribute("data-speed")||2;gsap.to(I,{x:d*60*_,y:u*60*_,duration:1.5})})}),document.querySelectorAll(".magnetic").forEach(e=>{e.addEventListener("mousemove",function(o){const t=this.getBoundingClientRect(),d=o.clientX-t.left-t.width/2,u=o.clientY-t.top-t.height/2;gsap.to(this,{x:d*.4,y:u*.4,duration:.6})}),e.addEventListener("mouseleave",function(){gsap.to(this,{x:0,y:0,duration:.8,ease:"elastic.out(1, 0.3)"})})});const h=document.getElementById("phone");h&&h.addEventListener("input",e=>{e.target.value=e.target.value.replace(/\D/g,"")});const y=document.getElementById("captchaLabel"),v=document.getElementById("captchaInput"),l=document.getElementById("mainForm");let L=0;const p=()=>{if(!y)return;const e=Math.floor(Math.random()*10),o=Math.floor(Math.random()*6);L=e+o,y.textContent=`${e} + ${o} = ?`};p(),l==null||l.addEventListener("submit",e=>{if(e.preventDefault(),parseInt(v.value)!==L){alert("Ошибка капчи. Попробуйте еще раз."),p(),v.value="";return}const o=l.querySelector("button"),t=document.getElementById("formSuccess");o.disabled=!0,o.innerText="Отправка...",setTimeout(()=>{l.reset(),t==null||t.classList.remove("hidden"),o.innerText="Заявка принята",p(),setTimeout(()=>{t==null||t.classList.add("hidden"),o.disabled=!1,o.innerText="Отправить запрос"},5e3)},1500)});const f=document.getElementById("cookiePopup"),g=document.getElementById("acceptCookies");f&&!localStorage.getItem("strato_cookie_consent")&&setTimeout(()=>{f.classList.add("cookie-popup--active")},3e3),g==null||g.addEventListener("click",()=>{localStorage.setItem("strato_cookie_consent","true"),f.classList.remove("cookie-popup--active")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(o){const t=document.querySelector(this.getAttribute("href"));t&&(o.preventDefault(),window.scrollTo({top:t.offsetTop-80,behavior:"smooth"}))})})});
//# sourceMappingURL=main-C1abbvD5.js.map

{"version":3,"file":"main-C1abbvD5.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * STRATO-MODEL.BLOG \n * Core Engine v1.1\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // === 1. ИКОНКИ (LUCIDE) ===\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // === 2. МОБИЛЬНОЕ МЕНЮ ===\n    const burger = document.querySelector('.burger');\n    const menuOverlay = document.querySelector('.menu-overlay');\n    const menuLinks = document.querySelectorAll('.menu-link');\n\n    const toggleMenu = () => {\n        if (!burger || !menuOverlay) return;\n        burger.classList.toggle('burger--active');\n        menuOverlay.classList.toggle('menu-overlay--active');\n        document.body.style.overflow = burger.classList.contains('burger--active') ? 'hidden' : '';\n    };\n\n    burger?.addEventListener('click', toggleMenu);\n    menuLinks.forEach(link => link.addEventListener('click', toggleMenu));\n\n    // === 3. АНИМАЦИИ GSAP (HERO & REVEAL) ===\n    const tl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n\n    // Появление Hero сразу при загрузке\n    tl.to(\".hero__badge, .hero__title, .hero__descr, .hero__btns\", {\n        opacity: 1,\n        y: 0,\n        duration: 1.2,\n        stagger: 0.15,\n        delay: 0.2\n    })\n    .from(\".hero__card\", {\n        scale: 0.9,\n        rotateY: 20,\n        opacity: 0,\n        duration: 1.5\n    }, \"-=1\");\n\n    // Появление остальных секций при скролле\n    const revealCallback = (entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                gsap.to(entry.target, {\n                    opacity: 1,\n                    y: 0,\n                    duration: 1.2,\n                    ease: \"power3.out\"\n                });\n                observer.unobserve(entry.target);\n            }\n        });\n    };\n\n    const revealObserver = new IntersectionObserver(revealCallback, { threshold: 0.1 });\n    document.querySelectorAll('.reveal:not(.hero *)').forEach(el => {\n        gsap.set(el, { opacity: 0, y: 50 });\n        revealObserver.observe(el);\n    });\n\n    // === 4. ПАРАЛЛАКС И МАГНИТНЫЕ ЭФФЕКТЫ ===\n    document.addEventListener(\"mousemove\", (e) => {\n        const { clientX, clientY } = e;\n        const xPos = (clientX / window.innerWidth - 0.5);\n        const yPos = (clientY / window.innerHeight - 0.5);\n\n        // Карточка в Hero\n        const heroCard = document.querySelector(\".hero__card\");\n        if (heroCard) {\n            gsap.to(heroCard, { rotateY: xPos * 30, rotateX: -yPos * 30, duration: 1 });\n        }\n\n        // Рамка в About\n        const aboutAccent = document.querySelector('.image-accent');\n        if (aboutAccent) {\n            gsap.to(aboutAccent, { x: xPos * 40, y: yPos * 40, duration: 1.5 });\n        }\n\n        // Плавающие элементы\n        document.querySelectorAll(\".float-element\").forEach(el => {\n            const speed = el.getAttribute(\"data-speed\") || 2;\n            gsap.to(el, { x: xPos * 60 * speed, y: yPos * 60 * speed, duration: 1.5 });\n        });\n    });\n\n    // Магнитные кнопки\n    document.querySelectorAll(\".magnetic\").forEach(el => {\n        el.addEventListener(\"mousemove\", function(e) {\n            const pos = this.getBoundingClientRect();\n            const x = e.clientX - pos.left - pos.width / 2;\n            const y = e.clientY - pos.top - pos.height / 2;\n            gsap.to(this, { x: x * 0.4, y: y * 0.4, duration: 0.6 });\n        });\n        el.addEventListener(\"mouseleave\", function() {\n            gsap.to(this, { x: 0, y: 0, duration: 0.8, ease: \"elastic.out(1, 0.3)\" });\n        });\n    });\n\n    // === 5. ВАЛИДАЦИЯ ТЕЛЕФОНА (ТОЛЬКО ЦИФРЫ) ===\n    const phoneInput = document.getElementById('phone');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    // === 6. КАПЧА И ФОРМА ОБРАТНОЙ СВЯЗИ ===\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaInput = document.getElementById('captchaInput');\n    const mainForm = document.getElementById('mainForm');\n    let captchaResult = 0;\n\n    const generateCaptcha = () => {\n        if (!captchaLabel) return;\n        const n1 = Math.floor(Math.random() * 10);\n        const n2 = Math.floor(Math.random() * 6);\n        captchaResult = n1 + n2;\n        captchaLabel.textContent = `${n1} + ${n2} = ?`;\n    };\n\n    generateCaptcha();\n\n    mainForm?.addEventListener('submit', (e) => {\n        e.preventDefault();\n        if (parseInt(captchaInput.value) !== captchaResult) {\n            alert('Ошибка капчи. Попробуйте еще раз.');\n            generateCaptcha();\n            captchaInput.value = '';\n            return;\n        }\n\n        const btn = mainForm.querySelector('button');\n        const successBox = document.getElementById('formSuccess');\n        \n        btn.disabled = true;\n        btn.innerText = 'Отправка...';\n\n        // Имитация AJAX\n        setTimeout(() => {\n            mainForm.reset();\n            successBox?.classList.remove('hidden');\n            btn.innerText = 'Заявка принята';\n            generateCaptcha();\n            setTimeout(() => {\n                successBox?.classList.add('hidden');\n                btn.disabled = false;\n                btn.innerText = 'Отправить запрос';\n            }, 5000);\n        }, 1500);\n    });\n\n    // === 7. COOKIE POPUP (LOGIC) ===\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (cookiePopup && !localStorage.getItem('strato_cookie_consent')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('cookie-popup--active');\n        }, 3000);\n    }\n\n    acceptBtn?.addEventListener('click', () => {\n        localStorage.setItem('strato_cookie_consent', 'true');\n        cookiePopup.classList.remove('cookie-popup--active');\n    });\n\n    // === 8. ПЛАВНЫЙ СКРОЛЛ ===\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                e.preventDefault();\n                window.scrollTo({\n                    top: target.offsetTop - 80,\n                    behavior: 'smooth'\n                });\n            }\n        });\n    });\n});"],"names":["burger","menuOverlay","menuLinks","toggleMenu","link","revealCallback","entries","observer","entry","revealObserver","el","clientX","clientY","xPos","yPos","heroCard","aboutAccent","speed","e","pos","x","y","phoneInput","captchaLabel","captchaInput","mainForm","captchaResult","generateCaptcha","n1","n2","btn","successBox","cookiePopup","acceptBtn","anchor","target"],"mappings":"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"}